<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>Green Magic CMS</title>
    <script src="https://unpkg.com/netlify-cms@2.10.192/dist/netlify-cms.js"></script>
  </head>
  <body>
    <!-- This div MUST be present for Netlify CMS to render -->
    <div id="nc-root"></div>

    <script>
      window.addEventListener('load', () => {
        if (window.CMS) {
          window.CMS.init({
            backend: {
              name: "github",
              repo: "greenmagicresort25/green-magic-resort",
              branch: "main"
            },
            media_folder: "images/uploads",
            public_folder: "/images/uploads",
            collections: [
              {
                name: "homepage",
                label: "Homepage Content",
                files: [
                  {
                    file: "index.html",
                    label: "Homepage",
                    name: "home",
                    fields: [
                      {
                        label: "Welcome Heading",
                        name: "welcome_heading",
                        widget: "string"
                      }
                    ]
                  }
                ]
              }
            ]
          });
        } else {
          console.error("CMS is not loaded properly.");
        }
      });
    </script>
  </body>
</html>
